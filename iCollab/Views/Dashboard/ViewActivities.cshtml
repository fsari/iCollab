@model IEnumerable<Model.Activity.Activity>


<div class="box box-primary">
    <div class="box-header">
        <i class="fa  fa-crosshairs"></i>
        <div class="box-title">Aktiviteler</div>
    </div>
    <div class="box-body table-responsive no-padding">
        <table class="table table-striped table-responsive table-hover">
            <thead>
                <tr>
                    <th></th> 
                </tr>
            </thead>
            <tbody id="activities">
                 
            </tbody>
        </table>
    </div>
</div>

<script> 

    $(function () {
        var activitiesHub = $.connection.activityHub;

        activitiesHub.client.newActivity = function (activity) {
            
            $("<tr><td>" + activity + "</td></tr>").prependTo("#activities");
        }
         
        function init() {
            activitiesHub.server.getActivities().done(function (activities) {
                
                var items = [];

                $.each(activities, function () {
                    items.push('<tr><td>' + this + '</td></tr>');
                });

                $('#activities').append(items.join(''));
            });
        }

        $.connection.hub.start().done(init);
    });
</script>

